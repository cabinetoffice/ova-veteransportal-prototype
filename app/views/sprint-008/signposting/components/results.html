{%block content%}

  <h2 class="govuk-heading-m"> {{data['numberOfResults']}} results</h2>
  <p>Sorted by: <strong>A-Z</strong>
  </p>

  <div class="search-terms">
    {%if data['topic']%}
      <div class="search-about">
        <p>
          <strong>About</strong>
        </p>
        {%for t in data['topic'] %}
          <div class="search-tag">
            <p> &#x2715; {{t}}</p>
          </div>
        {% endfor %}
      </div>
    {% endif %}

    {% if data['location']%}
    <div class="search-in">
      <p>
        <strong>In</strong>
      </p>
      {%for l in data['location']%}
        <div class="search-tag">
          <p> &#x2715; {{l}}</p>
        </div>
      {% endfor %}
    </div>
    {% endif %}

  </div>

<hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible">

{% set filters = [
        {filterType: "topic", data: data['topic']},
        {filterType: "location", data: data['location']}
    ]%}

{# sortResults is a custom function that can be found in filter.js file #}
{% set results = filters | sortResults %}

{% for r in results %}
  <div class="result">
    <h2 class="govuk-heading-m">
      <a href="{{r.link}}">{{r.name}}</a>
    </h2>
    <p>
      {{r.description}}
    </p>
    <div id="charity-hint" class="govuk-hint charity">
        Help with: {{r.helpsWith}}
    </div>
    <div id="charity-hint" class="govuk-hint">
        Location: {{r.location}}
    </div>
  </div>
  <hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible">
{% endfor %}

{% endblock %}