{% extends "layouts/main.html" %}

{% block pageTitle %}
Finder {{ serviceName }} â€“ GOV.UK Prototype Kit
{% endblock %}

{% macro result(link, name, description, helpsWith, location) %}
  <div class="result">
    <h2 class="govuk-heading-m">
      <a href="{{link}}">{{name}}</a>
    </h2>
    <p>
      {{description}}
    </p>
    <div id="charity-hint" class="govuk-hint charity">
        Help with: {{helpsWith}}
    </div>
    <div id="charity-hint" class="govuk-hint">
        Location: {{location}}
    </div>
  </div>
  <hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible">
{% endmacro %}

{% block pageScripts %}
  <script src="/assets/javascript/application.js"></script>
{% endblock %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-l">
      Find support for veterans and their families
    </h1>
      <p>Use this service to find information about support available to ex members of the UK armed forces and their families.</p>
      <p>You can filter results by location and select as many areas of support as you need. Results will include information about:</p>
      <ul class="govuk-list govuk-list--bullet">
        <li>services that are funded or run by the government</li>
        <li>charities and other non-government organisations</li>
      </ul>
      <div class="govuk-inset-text">
      UK veterans are defined as anyone who has served for at least one day in HM Armed Forces (Regular or Reserve) or Merchant Mariners who have seen duty on legally defined military operations.
    </div>
    </div>
  </div>

  <div class="govuk-warning-text">
    <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
    <strong class="govuk-warning-text__text">
      <span class="govuk-visually-hidden">Warning</span>
    If you are in danger, or at immediate risk, ring 999
  </strong>
  </div>

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <p>
      Find more information about government services at <a href="findsupport1">Support for veterans and their families</a>.
    </p>
    </div>
  </div>

  <br><br>

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-one-third">
      <div class="card">
        <form class="govuk-fieldset" action="/sprint-008/signposting/gds-finder-results" method="post">
          <details class="govuk-details" open>
            <summary class="govuk-details__summary">
              <span class="govuk-details__summary-text">
                Topic
              </span>
            </summary>
            {{ govukCheckboxes({
                  classes: "govuk-checkboxes--small",
                  items: [
                    {
                      value: "finance",
                      checked: data['finance'],
                      text: "Finance"
                    },
                    {
                      value: "Physical health",
                      checked: data['phealth'],
                      text: "Physical health"
                    },
                    {
                      value: "mhealth",
                      checked: data['mhealth'],
                      text: "Mental Health"
                    },
                    {
                      value: "legal",
                      checked: data['legal'],
                      text: "Legal help"
                    },
                    {
                      value: "employment",                      
                      checked: data['employment'],
                      text: "Employment"
                    },
                    {
                      value: "education",
                      checked: data['education'],
                      text: "Education and Training"
                    },
                    {
                      value: "housing",
                      checked: data['housing'],
                      text: "Housing"
                    },
                    {
                      value: "family",
                      checked: data['family'],
                      text: "Family and Children"
                    },
                    {
                      value: "social",
                      checked: data['social'],
                      text: "Social and Community"
                    }
                  ]
                }) }}
          </details>

          <hr>
          <br>

          <details class="govuk-details" open>
            <summary class="govuk-details__summary">
              <span class="govuk-details__summary-text">
                Location
              </span>
            </summary>

            {{ govukCheckboxes({
                  name: "location",
                  classes: "govuk-checkboxes--small",
                  items: [
                    {
                      value: "ukwide",
                      checked: data['ukwide'],
                      text: "Uk Wide"
                    },
                    {
                      value: "england",
                      checked: data['england'],
                      text: "England"
                    },
                    {
                      value: "scotland",
                      checked: data['scotland'],
                      text: "Scotland"
                    },
                    {
                      value: "wales",
                      checked: data['wales'],
                      text: "Wales"
                    },
                    {
                      value: "NI",
                      checked: data['NI'],
                      text: "Northern Ireland"
                    },
                    {
                      value: "remote",
                      checked: data['remote'],
                      text: "Accessible anywhere (remote/online only)"
                    }
                  ]
                }) }}
          </details>

          <hr>
          <br>

          {{ govukButton({
            text: "Apply filters"
          }) }}

          <div id="passport-issued-hint" class="govuk-hint">
            <a href="#">(clear filters)</a>
          </div>
        </form>
      </div>
    </div>

    <div class="govuk-grid-column-two-thirds">
      {% include "./results.html" %}
    </div>

  </div>

{% endblock %}